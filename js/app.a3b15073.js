(function(){"use strict";var t={817:function(t,e,s){var n=s(144),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("QuizGame",{staticClass:"quiz-container"})],1)},r=[],o=function(){var t=this,e=t._self._c;return e("div",[t.isStarted?t._e():e("div",{staticClass:"setup-container"},[0==t.categories.length?e("Loading",{attrs:{text:"Loading..."}}):e("div",[e("h1",[t._v("VUE-QUIZ!")]),e("h2",[t._v("Difficulty")]),e("div",{staticClass:"difficulties-container"},t._l(t.difficulties,(function(s,n){return e("div",{key:n,staticClass:"setup-option",class:{"is-selected":t.chosenDifficulty==s.level},on:{click:function(e){return t.setDifficulty(s.level)}}},[t._v(t._s(s.name))])})),0),e("h2",[t._v("Category")]),e("div",{staticClass:"categories-container"},[e("div",{staticClass:"setup-option",class:{"is-selected":null==t.chosenCategory},on:{click:function(e){return t.setCategory(null)}}},[t._v("Any Category")]),t._l(t.categories,(function(s){return e("div",{key:s.id,staticClass:"setup-option",class:{"is-selected":t.chosenCategory==s.id},on:{click:function(e){return t.setCategory(s.id)}}},[t._v(t._s(s.name))])}))],2),e("button",{staticClass:"button button--start",attrs:{type:"button"},on:{click:function(e){return t.startQuiz()}}},[t._v("Start")])])],1),t.isStarted?e("div",[0==t.questions.length?e("Loading",{attrs:{text:"Thinking of questions..."}}):t.currentQuestionIndex<t.questions.length?e("div",{key:t.currentQuestionIndex,staticClass:"quiz"},[e("h2",[t._v(t._s(t._f("decodeHtml")(t.questions[t.currentQuestionIndex].text)))]),e("div",{staticClass:"answers-container"},t._l(t.questions[t.currentQuestionIndex].answers,(function(s,n){return e("div",{key:n,staticClass:"answer answer--option",class:{"is-selected":t.chosenAnswers[t.currentQuestionIndex]==n},on:{click:function(e){return t.selectAnswer(n)}}},[t._v(t._s(t._f("decodeHtml")(s.text)))])})),0),e("FooterNav",{attrs:{questions:t.questions,chosenAnswers:t.chosenAnswers,currentQuestionIndex:t.currentQuestionIndex},on:{"update-question-index":function(e){t.currentQuestionIndex=e}}})],1):t.currentQuestionIndex>=t.questions.length?e("div",{key:t.currentQuestionIndex,staticClass:"quiz-completed"},[e("p",{staticClass:"score"},[t._v(t._s(t.calcScore())+" / "+t._s(t.questions.length))]),e("h2",{staticClass:"completion-message"},[t._v(t._s(t.completionMessage()))]),e("div",{staticClass:"quiz-answers"},t._l(t.questions,(function(s,n){return e("div",{key:n,staticClass:"quiz-answer",class:{"is-selected":t.chosenAnswers[t.currentQuestionIndex]==n}},[e("h3",{staticClass:"question"},[t._v(t._s(t._f("decodeHtml")(s.text)))]),e("p",{staticClass:"answer answer--correct"},[t._v("Correct answer: "+t._s(t._f("decodeHtml")(s.answers.find((t=>1==t.correct)).text)))]),t.answerCorrect(s,t.chosenAnswers[n])?t._e():e("p",{staticClass:"answer answer--incorrect"},[t._v("Your answer: "+t._s(t._f("decodeHtml")(s.answers[t.chosenAnswers[n]].text)))])])})),0),e("div",{staticClass:"restart-buttons"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.reset()}}},[t._v("Try again")]),e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.resetQuestions()}}},[t._v("Restart with new questions")]),e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.resetAll()}}},[t._v("New setup")])])]):t._e()],1):t._e()])},a=[],u=s(154),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading"},[e("h1",[t._v("VUE-QUIZ")]),e("p",[t._v(t._s(t.text))]),e("svg",{staticStyle:{margin:"auto",display:"block"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[e("rect",{attrs:{x:"17.5",y:"30",width:"15",height:"40",fill:"#dd1785"}},[e("animate",{attrs:{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"18;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.2s"}}),e("animate",{attrs:{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"64;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.2s"}})]),e("rect",{attrs:{x:"42.5",y:"30",width:"15",height:"40",fill:"#ce2683"}},[e("animate",{attrs:{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"20.999999999999996;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.1s"}}),e("animate",{attrs:{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"58.00000000000001;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.1s"}})]),e("rect",{attrs:{x:"67.5",y:"30",width:"15",height:"40",fill:"#b21c77"}},[e("animate",{attrs:{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"20.999999999999996;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1"}}),e("animate",{attrs:{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"58.00000000000001;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1"}})])])])},l=[],h={name:"LoadingScreen",props:{text:String}},d=h,f=s(736),p=(0,f.Z)(d,c,l,!1,null,"bec28028",null),v=p.exports,g=function(){var t=this,e=t._self._c;return e("footer",[e("nav",{staticClass:"nav-container",attrs:{role:"navigation","aria-label":"Navigation buttons"}},[e("button",{staticClass:"button",attrs:{type:"button",disabled:t.currentQuestionIndex<1},on:{click:function(e){return t.prevQuestion()}}},[t._v("Back")]),e("button",{staticClass:"button button--next",attrs:{type:"button",disabled:null==t.chosenAnswers[t.currentQuestionIndex]||t.currentQuestionIndex>=t.questions.length},on:{click:function(e){return t.nextQuestion()}}},[t._v(t._s(t.currentQuestionIndex==t.questions.length-1?"Submit":"Next"))]),e("ul",{staticClass:"nav-steps"},t._l(t.questions,(function(s,n){return e("li",{key:n,staticClass:"nav-step",on:{click:function(e){return t.selectQuestion(n)}}},[e("button",{staticClass:"button",class:{"is-active":t.currentQuestionIndex==n},attrs:{type:"button",disabled:t.chosenAnswers.length<n}},[t._v(t._s(n+1))])])})),0)])])},y=[],w={name:"FooterNav",props:{questions:Array,chosenAnswers:Array,currentQuestionIndex:Number},methods:{prevQuestion(){this.questions.length>0&&this.currentQuestionIndex>0&&this.$emit("update-question-index",this.currentQuestionIndex-1)},nextQuestion(){this.currentQuestionIndex<this.questions.length&&this.$emit("update-question-index",this.currentQuestionIndex+1)},selectQuestion(t){this.chosenAnswers.length>=t&&this.$emit("update-question-index",t)}}},m=w,_=(0,f.Z)(m,g,y,!1,null,"4499ec57",null),x=_.exports;const b=[{level:null,name:"Any Difficulty"},{level:"easy",name:"Easy"},{level:"medium",name:"Medium"},{level:"hard",name:"Hard"}];var C={name:"QuizGame",components:{Loading:v,FooterNav:x},data(){return{isStarted:!1,categories:[],difficulties:b,chosenCategory:null,chosenDifficulty:null,questions:[],chosenAnswers:[],currentQuestionIndex:0}},mounted(){this.init()},methods:{init(){const t="https://opentdb.com/api_category.php";u.Z.get(t).then((t=>{if(null==t.data.trivia_categories||!t.data.trivia_categories.length)return Promise.reject(t);this.categories=t.data.trivia_categories,this.categories.forEach((t=>{t.name=t.name.replace(/\w+: /gi,"")}))})).catch((t=>{console.log(t),alert("Sorry, something went wrong trying to load the categories. Please try again.")}))},setCategory(t){this.chosenCategory=t},setDifficulty(t){this.chosenDifficulty=t},startQuiz(){const t=this.generateUrl();this.isStarted=!0,u.Z.get(t).then((t=>{if(0!=t.data.response_code)return Promise.reject(t);this.populateQuestions(t.data.results)})).catch((t=>{console.log(t),alert("Sorry, something went wrong trying to load the questions. Please try again.")}))},generateUrl(){let t=null==this.chosenDifficulty?"":`&difficulty=${this.chosenDifficulty}`,e=null==this.chosenCategory?"":`&category=${this.chosenCategory}`;return`https://opentdb.com/api.php?amount=5${e}${t}`},populateQuestions(t){t.length>0&&t.forEach((t=>{const e={},s=[];[...t.incorrect_answers,t.correct_answer].forEach((e=>{let n={text:"",correct:!1};[n.text,n.correct]=[e,e==t.correct_answer],s.push(n)})),e.text=t.question,e.answers=this.shuffle(s),this.questions.push(e)}))},selectAnswer(t){window.Vue.set(this.chosenAnswers,this.currentQuestionIndex,t)},calcScore(){let t=0;return this.chosenAnswers.forEach(((e,s)=>{"undefined"!==typeof this.questions[s].answers[this.chosenAnswers[s]]&&this.questions[s].answers[this.chosenAnswers[s]].correct&&(t+=1)})),t},completionMessage(){let t="Better luck next time";return this.calcScore()>=.8*this.questions.length?t="Great work!":this.calcScore()>=this.questions.length/2&&(t="Good work!"),t},answerCorrect(t,e){return t.answers[e].correct},reset(){this.currentQuestionIndex=0,this.chosenAnswers=[]},resetQuestions(){this.questions=[],this.startQuiz(),this.reset()},resetAll(){this.chosenCategory=null,this.chosenDifficulty=null,this.questions=[],this.reset(),this.isStarted=!1},shuffle(t){for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}},filters:{decodeHtml(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}}},k=C,Q=(0,f.Z)(k,o,a,!1,null,"e9634ee8",null),q=Q.exports,A={name:"App",components:{QuizGame:q}},I=A,S=(0,f.Z)(I,i,r,!1,null,null,null),M=S.exports;window.Vue=n.ZP,n.ZP.config.productionTip=!1,new n.ZP({render:t=>t(M)}).$mount("#app")}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,n,i,r){if(!n){var o=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],r=t[l][2];for(var a=!0,u=0;u<n.length;u++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](n[u])}))?n.splice(u--,1):(a=!1,r<o&&(o=r));if(a){t.splice(l--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[n,i,r]}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,r,o=n[0],a=n[1],u=n[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(u)var l=u(s)}for(e&&e(n);c<o.length;c++)r=o[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(l)},n=self["webpackChunkvue_quiz_app"]=self["webpackChunkvue_quiz_app"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(817)}));n=s.O(n)})();
//# sourceMappingURL=app.a3b15073.js.map